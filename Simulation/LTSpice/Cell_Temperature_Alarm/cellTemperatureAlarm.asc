Version 4
SHEET 1 4100 2260
WIRE 1248 -176 1168 -176
WIRE 1600 -112 1584 -112
WIRE 1632 -112 1632 -160
WIRE 1632 -112 1600 -112
WIRE 1296 112 1280 112
WIRE 1312 112 1296 112
WIRE 2272 112 2256 112
WIRE 2288 112 2272 112
WIRE 3248 112 3232 112
WIRE 3264 112 3248 112
WIRE 320 128 304 128
WIRE 336 128 320 128
WIRE 1280 144 1280 112
WIRE 2256 144 2256 112
WIRE 3232 144 3232 112
WIRE 304 160 304 128
WIRE 1216 160 1200 160
WIRE 1248 160 1216 160
WIRE 2192 160 2176 160
WIRE 2224 160 2192 160
WIRE 3168 160 3152 160
WIRE 3200 160 3168 160
WIRE 240 176 224 176
WIRE 272 176 240 176
WIRE 1408 176 1312 176
WIRE 1424 176 1408 176
WIRE 2384 176 2288 176
WIRE 2400 176 2384 176
WIRE 3360 176 3264 176
WIRE 3376 176 3360 176
WIRE 432 192 336 192
WIRE 448 192 432 192
WIRE 1168 192 1168 80
WIRE 1248 192 1168 192
WIRE 2144 192 2144 80
WIRE 2224 192 2144 192
WIRE 3120 192 3120 80
WIRE 3200 192 3120 192
WIRE 176 208 176 96
WIRE 272 208 176 208
WIRE 1168 224 1168 192
WIRE 2144 224 2144 192
WIRE 3120 224 3120 192
WIRE 176 240 176 208
WIRE 1296 496 1280 496
WIRE 1312 496 1296 496
WIRE 2272 496 2256 496
WIRE 2288 496 2272 496
WIRE 3248 496 3232 496
WIRE 3264 496 3248 496
WIRE 320 512 304 512
WIRE 336 512 320 512
WIRE 1280 528 1280 496
WIRE 2256 528 2256 496
WIRE 3232 528 3232 496
WIRE 304 544 304 512
WIRE 1216 544 1200 544
WIRE 1248 544 1216 544
WIRE 2192 544 2176 544
WIRE 2224 544 2192 544
WIRE 3168 544 3152 544
WIRE 3200 544 3168 544
WIRE 240 560 208 560
WIRE 272 560 240 560
WIRE 1408 560 1312 560
WIRE 1424 560 1408 560
WIRE 2384 560 2288 560
WIRE 2400 560 2384 560
WIRE 3360 560 3264 560
WIRE 3376 560 3360 560
WIRE 432 576 336 576
WIRE 448 576 432 576
WIRE 1168 576 1168 464
WIRE 1248 576 1168 576
WIRE 2144 576 2144 464
WIRE 2224 576 2144 576
WIRE 3120 576 3120 464
WIRE 3200 576 3120 576
WIRE 176 592 176 480
WIRE 272 592 176 592
WIRE 1168 608 1168 576
WIRE 2144 608 2144 576
WIRE 3120 608 3120 576
WIRE 176 624 176 592
WIRE 1296 880 1280 880
WIRE 1312 880 1296 880
WIRE 2272 880 2256 880
WIRE 2288 880 2272 880
WIRE 3248 880 3232 880
WIRE 3264 880 3248 880
WIRE 304 896 288 896
WIRE 320 896 304 896
WIRE 1280 912 1280 880
WIRE 2256 912 2256 880
WIRE 3232 912 3232 880
WIRE 288 928 288 896
WIRE 1216 928 1200 928
WIRE 1248 928 1216 928
WIRE 2192 928 2176 928
WIRE 2224 928 2192 928
WIRE 3168 928 3152 928
WIRE 3200 928 3168 928
WIRE 224 944 208 944
WIRE 256 944 224 944
WIRE 1408 944 1312 944
WIRE 1424 944 1408 944
WIRE 2384 944 2288 944
WIRE 2400 944 2384 944
WIRE 3360 944 3264 944
WIRE 3376 944 3360 944
WIRE 416 960 320 960
WIRE 432 960 416 960
WIRE 1168 960 1168 848
WIRE 1248 960 1168 960
WIRE 2144 960 2144 848
WIRE 2224 960 2144 960
WIRE 3120 960 3120 848
WIRE 3200 960 3120 960
WIRE 176 976 176 864
WIRE 256 976 176 976
WIRE 1168 992 1168 960
WIRE 2144 992 2144 960
WIRE 3120 992 3120 960
WIRE 176 1008 176 976
WIRE 1296 1264 1280 1264
WIRE 1312 1264 1296 1264
WIRE 2272 1264 2256 1264
WIRE 2288 1264 2272 1264
WIRE 3248 1264 3232 1264
WIRE 3264 1264 3248 1264
WIRE 304 1280 288 1280
WIRE 320 1280 304 1280
WIRE 1280 1296 1280 1264
WIRE 2256 1296 2256 1264
WIRE 3232 1296 3232 1264
WIRE 288 1312 288 1280
WIRE 1216 1312 1200 1312
WIRE 1248 1312 1216 1312
WIRE 2192 1312 2176 1312
WIRE 2224 1312 2192 1312
WIRE 3168 1312 3152 1312
WIRE 3200 1312 3168 1312
WIRE 224 1328 208 1328
WIRE 256 1328 224 1328
WIRE 1408 1328 1312 1328
WIRE 1424 1328 1408 1328
WIRE 2384 1328 2288 1328
WIRE 2400 1328 2384 1328
WIRE 3360 1328 3264 1328
WIRE 3376 1328 3360 1328
WIRE 416 1344 320 1344
WIRE 432 1344 416 1344
WIRE 1168 1344 1168 1232
WIRE 1248 1344 1168 1344
WIRE 2144 1344 2144 1232
WIRE 2224 1344 2144 1344
WIRE 3120 1344 3120 1232
WIRE 3200 1344 3120 1344
WIRE 176 1360 176 1248
WIRE 256 1360 176 1360
WIRE 1168 1376 1168 1344
WIRE 2144 1376 2144 1344
WIRE 3120 1376 3120 1344
WIRE 176 1392 176 1360
WIRE 1296 1648 1280 1648
WIRE 1312 1648 1296 1648
WIRE 2272 1648 2256 1648
WIRE 2288 1648 2272 1648
WIRE 3248 1648 3232 1648
WIRE 3264 1648 3248 1648
WIRE 304 1664 288 1664
WIRE 320 1664 304 1664
WIRE 1280 1680 1280 1648
WIRE 2256 1680 2256 1648
WIRE 3232 1680 3232 1648
WIRE 288 1696 288 1664
WIRE 1216 1696 1200 1696
WIRE 1248 1696 1216 1696
WIRE 2192 1696 2176 1696
WIRE 2224 1696 2192 1696
WIRE 3168 1696 3152 1696
WIRE 3200 1696 3168 1696
WIRE 224 1712 208 1712
WIRE 256 1712 224 1712
WIRE 1408 1712 1312 1712
WIRE 1424 1712 1408 1712
WIRE 2384 1712 2288 1712
WIRE 2400 1712 2384 1712
WIRE 3360 1712 3264 1712
WIRE 3376 1712 3360 1712
WIRE 416 1728 320 1728
WIRE 432 1728 416 1728
WIRE 1168 1728 1168 1616
WIRE 1248 1728 1168 1728
WIRE 2144 1728 2144 1616
WIRE 2224 1728 2144 1728
WIRE 3120 1728 3120 1616
WIRE 3200 1728 3120 1728
WIRE 176 1744 176 1632
WIRE 256 1744 176 1744
WIRE 1168 1760 1168 1728
WIRE 2144 1760 2144 1728
WIRE 3120 1760 3120 1728
WIRE 176 1776 176 1744
FLAG 176 320 0
FLAG 176 16 Vcc
FLAG 1472 -160 Vcc
FLAG 176 704 0
FLAG 176 400 Vcc
FLAG 176 1088 0
FLAG 176 784 Vcc
FLAG 1392 -160 0
FLAG 176 1472 0
FLAG 176 1168 Vcc
FLAG 176 1856 0
FLAG 176 1552 Vcc
FLAG 1168 304 0
FLAG 1168 0 Vcc
FLAG 1168 688 0
FLAG 1168 384 Vcc
FLAG 1168 1072 0
FLAG 1168 768 Vcc
FLAG 1168 1456 0
FLAG 1168 1152 Vcc
FLAG 1168 1840 0
FLAG 1168 1536 Vcc
FLAG 2144 304 0
FLAG 2144 0 Vcc
FLAG 2144 688 0
FLAG 2144 384 Vcc
FLAG 2144 1072 0
FLAG 2144 768 Vcc
FLAG 2144 1456 0
FLAG 2144 1152 Vcc
FLAG 2144 1840 0
FLAG 2144 1536 Vcc
FLAG 3120 304 0
FLAG 3120 0 Vcc
FLAG 3120 688 0
FLAG 3120 384 Vcc
FLAG 3120 1072 0
FLAG 3120 768 Vcc
FLAG 3120 1456 0
FLAG 3120 1152 Vcc
FLAG 3120 1840 0
FLAG 3120 1536 Vcc
FLAG 176 208 senseHigh
FLAG 1168 192 sense6
FLAG 2144 192 sense11
FLAG 3120 192 sense16
FLAG 3120 576 sense17
FLAG 2144 576 sense12
FLAG 2144 1344 sense14
FLAG 3120 1344 sense19
FLAG 2144 1728 sense15
FLAG 3120 1728 sense20
FLAG 1168 1728 sense10
FLAG 176 1744 sense5
FLAG 1168 1344 sense9
FLAG 1168 960 sense8
FLAG 176 1360 sense4
FLAG 176 976 sense3
FLAG 1168 576 sense7
FLAG 176 592 sense2
FLAG 1248 -176 Vref
FLAG 1168 -96 0
FLAG 1168 -256 Vcc
FLAG 432 192 out
FLAG 304 224 0
FLAG 320 128 Vcc
FLAG 240 176 Vref
FLAG 2144 960 sense13
FLAG 3120 960 sense18
FLAG 432 576 out
FLAG 304 608 0
FLAG 320 512 Vcc
FLAG 240 560 Vref
FLAG 416 960 out
FLAG 288 992 0
FLAG 304 896 Vcc
FLAG 224 944 Vref
FLAG 416 1344 out
FLAG 288 1376 0
FLAG 304 1280 Vcc
FLAG 224 1328 Vref
FLAG 416 1728 out
FLAG 288 1760 0
FLAG 304 1664 Vcc
FLAG 224 1712 Vref
FLAG 1408 176 out
FLAG 1280 208 0
FLAG 1296 112 Vcc
FLAG 1216 160 Vref
FLAG 1408 560 out
FLAG 1280 592 0
FLAG 1296 496 Vcc
FLAG 1216 544 Vref
FLAG 1408 944 out
FLAG 1280 976 0
FLAG 1296 880 Vcc
FLAG 1216 928 Vref
FLAG 1408 1328 out
FLAG 1280 1360 0
FLAG 1296 1264 Vcc
FLAG 1216 1312 Vref
FLAG 1408 1712 out
FLAG 1280 1744 0
FLAG 1296 1648 Vcc
FLAG 1216 1696 Vref
FLAG 2384 176 out
FLAG 2256 208 0
FLAG 2272 112 Vcc
FLAG 2192 160 Vref
FLAG 2384 560 out
FLAG 2256 592 0
FLAG 2272 496 Vcc
FLAG 2192 544 Vref
FLAG 2384 944 out
FLAG 2256 976 0
FLAG 2272 880 Vcc
FLAG 2192 928 Vref
FLAG 2384 1328 out
FLAG 2256 1360 0
FLAG 2272 1264 Vcc
FLAG 2192 1312 Vref
FLAG 2384 1712 out
FLAG 2256 1744 0
FLAG 2272 1648 Vcc
FLAG 2192 1696 Vref
FLAG 3360 176 out
FLAG 3232 208 0
FLAG 3248 112 Vcc
FLAG 3168 160 Vref
FLAG 3360 560 out
FLAG 3232 592 0
FLAG 3248 496 Vcc
FLAG 3168 544 Vref
FLAG 3360 944 out
FLAG 3232 976 0
FLAG 3248 880 Vcc
FLAG 3168 928 Vref
FLAG 3360 1328 out
FLAG 3232 1360 0
FLAG 3248 1264 Vcc
FLAG 3168 1312 Vref
FLAG 3360 1712 out
FLAG 3232 1744 0
FLAG 3248 1648 Vcc
FLAG 3168 1696 Vref
FLAG 1600 -112 out
FLAG 1632 -240 Vcc
SYMBOL res 160 224 R0
SYMATTR InstName RFixed1
SYMATTR Value ={RFixed1}
SYMBOL res 160 0 R0
SYMATTR InstName Therm1
SYMATTR Value R = {R0Therm1*exp(-BTherm1*( 1/(T0Therm) - 1/( (time + 273.15 + THigh) )))}
SYMBOL res 160 608 R0
SYMATTR InstName RFixed2
SYMATTR Value ={RFixed2}
SYMBOL res 160 384 R0
SYMATTR InstName Therm2
SYMATTR Value R = {R0Therm2*exp(-BTherm2*( 1/(T0Therm) - 1/( (time + 273.15 + T2) )))}
SYMBOL res 160 992 R0
SYMATTR InstName RFixed3
SYMATTR Value ={RFixed3}
SYMBOL res 160 768 R0
SYMATTR InstName Therm3
SYMATTR Value R = {R0Therm3*exp(-BTherm3*( 1/(T0Therm) - 1/( (time + 273.15 + T3) )))}
SYMBOL bv 1488 -160 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName Regulator
SYMATTR Value V= {5}
SYMBOL res 160 1376 R0
SYMATTR InstName RFixed4
SYMATTR Value ={RFixed4}
SYMBOL res 160 1152 R0
SYMATTR InstName Therm4
SYMATTR Value R = {R0Therm4*exp(-BTherm4*( 1/(T0Therm) - 1/( (time + 273.15 + T4) )))}
SYMBOL res 160 1760 R0
SYMATTR InstName RFixed5
SYMATTR Value ={RFixed5}
SYMBOL res 160 1536 R0
SYMATTR InstName Therm5
SYMATTR Value R = {R0Therm5*exp(-BTherm5*( 1/(T0Therm) - 1/( (time + 273.15 + T5) )))}
SYMBOL res 1152 208 R0
SYMATTR InstName RFixed6
SYMATTR Value ={RFixed6}
SYMBOL res 1152 -16 R0
SYMATTR InstName Therm6
SYMATTR Value R = {R0Therm6*exp(-BTherm6*( 1/(T0Therm) - 1/( (time + 273.15 + T6) )))}
SYMBOL res 1152 592 R0
SYMATTR InstName RFixed7
SYMATTR Value ={RFixed7}
SYMBOL res 1152 368 R0
SYMATTR InstName Therm7
SYMATTR Value R = {R0Therm7*exp(-BTherm7*( 1/(T0Therm) - 1/( (time + 273.15 + T7) )))}
SYMBOL res 1152 976 R0
SYMATTR InstName RFixed8
SYMATTR Value ={RFixed8}
SYMBOL res 1152 752 R0
SYMATTR InstName Therm8
SYMATTR Value R = {R0Therm8*exp(-BTherm8*( 1/(T0Therm) - 1/( (time + 273.15 + T8) )))}
SYMBOL res 1152 1360 R0
SYMATTR InstName RFixed9
SYMATTR Value ={RFixed9}
SYMBOL res 1152 1136 R0
SYMATTR InstName Therm9
SYMATTR Value R = {R0Therm9*exp(-BTherm9*( 1/(T0Therm) - 1/( (time + 273.15 + T9) )))}
SYMBOL res 1152 1744 R0
SYMATTR InstName RFixed10
SYMATTR Value ={RFixed10}
SYMBOL res 1152 1520 R0
SYMATTR InstName Therm10
SYMATTR Value R = {R0Therm10*exp(-BTherm10*( 1/(T0Therm) - 1/( (time + 273.15 + T10) )))}
SYMBOL res 2128 208 R0
SYMATTR InstName RFixed11
SYMATTR Value ={RFixed11}
SYMBOL res 2128 -16 R0
SYMATTR InstName Therm11
SYMATTR Value R = {R0Therm11*exp(-BTherm11*( 1/(T0Therm) - 1/( (time + 273.15 + T11) )))}
SYMBOL res 2128 592 R0
SYMATTR InstName RFixed12
SYMATTR Value ={RFixed12}
SYMBOL res 2128 368 R0
SYMATTR InstName Therm12
SYMATTR Value R = {R0Therm12*exp(-BTherm12*( 1/(T0Therm) - 1/( (time + 273.15 + T12) )))}
SYMBOL res 2128 976 R0
SYMATTR InstName RFixed13
SYMATTR Value ={RFixed13}
SYMBOL res 2128 752 R0
SYMATTR InstName Therm13
SYMATTR Value R = {R0Therm13*exp(-BTherm13*( 1/(T0Therm) - 1/( (time + 273.15 + T13) )))}
SYMBOL res 2128 1360 R0
SYMATTR InstName RFixed14
SYMATTR Value ={RFixed14}
SYMBOL res 2128 1136 R0
SYMATTR InstName Therm14
SYMATTR Value R = {R0Therm14*exp(-BTherm14*( 1/(T0Therm) - 1/( (time + 273.15 + T14) )))}
SYMBOL res 2128 1744 R0
SYMATTR InstName RFixed15
SYMATTR Value ={RFixed15}
SYMBOL res 2128 1520 R0
SYMATTR InstName Therm15
SYMATTR Value R = {R0Therm15*exp(-BTherm15*( 1/(T0Therm) - 1/( (time + 273.15 + T15) )))}
SYMBOL res 3104 208 R0
SYMATTR InstName RFixed16
SYMATTR Value ={RFixed16}
SYMBOL res 3104 -16 R0
SYMATTR InstName Therm16
SYMATTR Value R = {R0Therm16*exp(-BTherm16*( 1/(T0Therm) - 1/( (time + 273.15 + T16) )))}
SYMBOL res 3104 592 R0
SYMATTR InstName RFixed17
SYMATTR Value ={RFixed17}
SYMBOL res 3104 368 R0
SYMATTR InstName Therm17
SYMATTR Value R = {R0Therm17*exp(-BTherm17*( 1/(T0Therm) - 1/( (time + 273.15 + T17) )))}
SYMBOL res 3104 976 R0
SYMATTR InstName RFixed18
SYMATTR Value ={RFixed18}
SYMBOL res 3104 752 R0
SYMATTR InstName Therm18
SYMATTR Value R = {R0Therm18*exp(-BTherm18*( 1/(T0Therm) - 1/( (time + 273.15 + T18) )))}
SYMBOL res 3104 1360 R0
SYMATTR InstName RFixed19
SYMATTR Value ={RFixed19}
SYMBOL res 3104 1136 R0
SYMATTR InstName Therm19
SYMATTR Value R = {R0Therm19*exp(-BTherm19*( 1/(T0Therm) - 1/( (time + 273.15 + T19) )))}
SYMBOL res 3104 1744 R0
SYMATTR InstName RFixed20
SYMATTR Value ={RFixed20}
SYMBOL res 3104 1520 R0
SYMATTR InstName Therm20
SYMATTR Value R = {R0Therm20*exp(-BTherm20*( 1/(T0Therm) - 1/( (time + 273.15 + T20) )))}
SYMBOL res 1152 -272 R0
WINDOW 3 36 76 Invisible 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 1152 -192 R0
WINDOW 3 36 76 Invisible 2
SYMATTR InstName R2
SYMATTR Value 1.2k
SYMBOL LM339 1280 1712 R0
SYMATTR InstName U10
SYMBOL LM339 2256 176 R0
SYMATTR InstName U11
SYMBOL LM339 2256 560 R0
SYMATTR InstName U12
SYMBOL LM339 2256 944 R0
SYMATTR InstName U13
SYMBOL LM339 2256 1328 R0
SYMATTR InstName U14
SYMBOL LM339 2256 1712 R0
SYMATTR InstName U15
SYMBOL LM339 3232 176 R0
SYMATTR InstName U16
SYMBOL LM339 3232 560 R0
SYMATTR InstName U17
SYMBOL LM339 3232 944 R0
SYMATTR InstName U18
SYMBOL LM339 3232 1328 R0
SYMATTR InstName U19
SYMBOL LM339 3232 1712 R0
SYMATTR InstName U20
SYMBOL LM339 304 192 R0
SYMATTR InstName U1
SYMATTR SpiceModel LM339_PSPICE_MODEL.lib
SYMBOL LM339 304 576 R0
SYMATTR InstName U2
SYMBOL LM339 1280 176 R0
SYMATTR InstName U6
SYMBOL LM339 1280 560 R0
SYMATTR InstName U7
SYMBOL LM339 288 960 R0
SYMATTR InstName U3
SYMBOL LM339 288 1344 R0
SYMATTR InstName U4
SYMBOL LM339 1280 1328 R0
SYMATTR InstName U8
SYMBOL LM339 1280 944 R0
SYMATTR InstName U9
SYMBOL LM339 288 1728 R0
SYMATTR InstName U5
SYMBOL res 1616 -256 R0
SYMATTR InstName RPullup
SYMATTR Value 10k
TEXT 152 -72 Left 2 !.tran 70
TEXT 152 -152 Left 2 !.include params.txt
TEXT 160 -184 Left 2 ;All parameters are managed and written to params.txt by generateParams.py
TEXT 152 -112 Left 2 !.include ./LM339_PSPICE_MODEL.LIB
